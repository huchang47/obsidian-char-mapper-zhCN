# 鉄拳入力方法

[![.NET 6](https://img.shields.io/badge/.NET-6.0-blue)](https://dotnet.microsoft.com/)
[![Platform](https://img.shields.io/badge/Platform-Windows-lightgrey)](https://www.microsoft.com/windows)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

[中文](README.zh-CN.md) | [English](README.md) | [한국어](README.ko.md) | 日本語

Windowsシステムレベルの鉄拳入力方法。キーボード入力をリアルタイムで鉄拳スタイルの方向キーとボタン記号に変換します。

---

## 📖 プロジェクト紹介

鉄拳入力方法は、鉄拳シリーズの格闘ゲームプレイヤー向けに特別に設計されたWindowsシステムレベルの入力ツールです。標準のキーボード入力（WASDなど）を鉄拳コミュニティ標準の記号表記（⬆⬅⬇➡、❶❷❸❹など）にリアルタイムで変換し、プレイヤーが攻略記事を書いたり、技を議論したり、コンボを記録したりする際に標準記号を使用できるようにします。

### 主な機能

- **システムレベル入力**：あらゆるアプリケーションで使用可能（QQ、WeChat、メモ帳、ブラウザなど）
- **デュアルモード設計**：鉄拳モードはゲーム用、矢印モードは日常使用用
- **大文字小文字区別**：Shift+方向キーで横移動記号（⇈/⇊）を出力
- **ホットキー切り替え**：デフォルトF8で素早くオン/オフ
- **高度にカスタマイズ可能**：すべてのキーマッピングをカスタマイズ可能

---

## 🚀 使用方法

### 1. 起動
- `TekkenInputMethod.exe`をダブルクリック
- プログラムはシステムトレイで実行されます

### 2. 有効化
- **ホットキー**：`F8`を押してオン/オフ切り替え（デフォルト、カスタマイズ可能）
- メインウィンドウの「有効化」ボタンをクリック
- システムトレイメニューを使用

### 3. 入力マッピング

#### 鉄拳モード（デフォルト）：

| キー | 出力 | 説明 |
|------|------|------|
| W | ⬆ | 上 |
| Shift+W | ⇈ | 内側ステップ |
| A | ⬅ | 左 |
| S | ⬇ | 下 |
| Shift+S | ⇊ | 外側ステップ |
| D | ➡ | 右 |
| Q | ↖ | 左上斜め |
| E | ↗ | 右上斜め |
| Z | ↙ | 左下斜め |
| C | ↘ | 右下斜め |
| J | ❶ | ボタン1（左パンチ） |
| I | ❷ | ボタン2（右パンチ） |
| K | ❸ | ボタン3（左キック） |
| L | ❹ | ボタン4（右キック） |
| U | ❶✚❷ | コンボボタン1+2 |
| O | ❸✚❹ | コンボボタン3+4 |
| Space | ▸ | コネクタ |
| N | ✩ | ニュートラル |
| X | ⇩ | しゃがみ |
| H | Ⓗ | H機能 |
| R | Ⓡ | R機能 |
| T | Ⓣ | T機能 |
| B | Ⓑ | B機能 |

#### 矢印キーモード（シンプルモード）：

| キー | 出力 |
|------|------|
| W/A/S/D | ⬆/⬅/⬇/➡ |
| Q/E/Z/C | ↖/↗/↙/↘ |

### 4. モードの違い

**鉄拳モード**：
- 鉄拳ゲーム専用に設計
- 完全な方向キーとボタンマッピングを含む
- コンボボタン、特殊記号などの機能
- 大文字小文字区別をサポート（Shift+方向で横移動記号）
- ゲームの技とコンボの記録に最適

**矢印キーモード**：
- シンプルな方向キーマッピング
- 基本的な方向と斜めのみを含む
- 一般的な矢印入力ニーズに適している
- クリーンなインターフェース

### 5. 設定
- 「設定」ボタンをクリックして設定ウィンドウを開く
- **キーマッピングタブ**：キーマッピングをカスタマイズ（大文字小文字区別サポート）
- **プリセットモードタブ**：
  - 詳細なモード説明を表示
  - ワンクリックで鉄拳モードと矢印モードを切り替え
  - デフォルト設定に戻す
- **システム設定タブ**：Windows起動時に開始、ホットキーのカスタマイズなど

### 6. システムトレイ機能
- トレイアイコンを右クリック
- 入力方法を素早く有効化/無効化
- 設定ウィンドウを開く
- プログラムを終了

### 7. 無効化
- `F8`ホットキーを再度押す（またはカスタマイズしたホットキー）
- 「有効化」ボタンを再度クリック
- システムトレイメニューで「無効化」を選択

---

## 🔧 技術的改善

### キー傍受メカニズム
- 低レベルキーボードフックを使用してキーイベントを傍受
- マッピング成功後に元のキー送信をブロック
- 変換された文字のみが出力されることを保証

### 文字互換性
- 標準Unicode文字を使用（Emojiサポートが必要）
- QQ、WeChat、その他のアプリケーションで正しく表示
- 斜め記号は汎用エンコーディングを使用

---

## 📝 注意事項

1. **管理者権限**：一部の機能には管理者権限が必要な場合があります
2. **アンチウイルス**：アンチウイルスソフトウェアによってブロックされた場合はホワイトリストに追加
3. **互換性**：Windows 10/11をサポート
4. **ログファイル**：ログは`%APPDATA%\TekkenInputMethod\Logs`ディレクトリに保存

---

## ⚙️ 設定ファイル

設定ファイルの場所：`%APPDATA%\TekkenInputMethod\config.json`

このファイルを手動で編集してマッピング関係をカスタマイズできます。

---

## 🗑️ アンインストール

1. 入力方法プログラムを終了
2. 設定ディレクトリ`%APPDATA%\TekkenInputMethod`を削除
3. Windows起動時の開始を削除するには、設定で「Windows起動時に開始」のチェックを外す

---

## 🆘 技術サポート

問題が発生した場合は、ログファイルを確認してください。

---

## ⚠️ 既知の制限

- QQでの斜め記号（↖↗↙↘）が特定の状況でエスケープされる場合があります。これはQQのリッチテキスト処理メカニズムによるものです。入力方法は標準Unicode文字を使用しますが、アプリケーション側の表示処理は入力方法の制御範囲外です。
