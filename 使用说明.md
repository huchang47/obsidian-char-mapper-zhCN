# 铁拳输入法使用说明

## 使用方法

### 1. 启动输入法
- 双击运行 `TekkenInputMethod.exe`
- 程序会在系统托盘显示图标

### 2. 激活输入法
- **快捷键**：按 `F8` 快速开启/关闭输入法（默认热键，可在配置中修改，注意不要使用被转换的按键）
- 点击主界面的"激活输入法"按钮
- 或通过系统托盘菜单选择"激活"
- 激活后，输入WASD等按键会自动转换为对应符号

### 3. 输入映射

#### 铁拳配置（默认）：
| 按键 | 输出 | 说明 |
|------|------|------|
| W | ⬆ | 上方向 |
| Shift+W | ⇈ | 内横移 |
| A | ⬅ | 左方向 |
| S | ⬇ | 下方向 |
| Shift+S | ⇊ | 外横移 |
| D | ➡ | 右方向 |
| Q | ↖ | 左上方向 |
| E | ↗ | 右上方向 |
| Z | ↙ | 左下方向 |
| C | ↘ | 右下方向 |
| J | ❶ | 按钮1 |
| I | ❷ | 按钮2 |
| K | ❸ | 按钮3 |
| L | ❹ | 按钮4 |
| U | ❶✚❷ | 组合按钮1+2 |
| O | ❸✚❹ | 组合按钮3+4 |
| Space | ▸ | 连接符 |
| N | ✩ | 回中 |
| X | ⇩ | 长蹲 |
| H | Ⓗ | H功能 |
| R | Ⓡ | R功能 |
| T | Ⓣ | T功能 |
| B | Ⓑ | B功能 |

#### 方向键配置（简洁模式）：
| 按键 | 输出 | 说明 |
|------|------|------|
| W | ↑ | 上方向 |
| A | ← | 左方向 |
| S | ↓ | 下方向 |
| D | → | 右方向 |
| Q | ↖ | 左上方向 |
| E | ↗ | 右上方向 |
| Z | ↙ | 左下方向 |
| C | ↘ | 右下方向 |

### 4. 两种配置的区别

**铁拳配置**：
- 专为铁拳游戏设计
- 包含完整的方向键和按钮映射
- 有组合按钮、特殊符号等功能
- 支持大小写敏感（Shift+方向键输出横移符号）
- 适合游戏出招记录

**方向键配置**：
- 简洁的方向键映射
- 只包含基本的方向键和斜方向
- 适合一般用途的箭头输入
- 界面更简洁

### 5. 配置管理

#### 配置管理标签页
- **配置列表**：显示所有已保存的配置
- **切换到此配置**：选中配置后点击，切换到该配置
- **新建配置**：创建新的自定义配置
- **复制配置**：复制选中的配置作为新配置
- **删除配置**：删除选中的配置（不能删除最后一个配置）
- **编辑配置**：选中配置后点击，跳转到按键映射页签进行编辑
- **导入配置**：从JSON文件导入配置
- **导出配置**：将选中的配置导出为JSON文件

#### 按键映射标签页
- 显示当前配置的按键映射表
- **添加**：添加新的按键映射
- **删除**：删除选中的按键映射
- **保存**：保存对当前配置的修改
- **取消**：放弃修改并关闭配置窗口
- 支持大小写敏感（如 `w` 和 `W` 可映射不同符号）
- 支持数字键映射（如 `8` 可映射为 `↑`）

#### 系统设置标签页
- **开机自启**：设置是否开机自动启动
- **最小化启动**：设置启动时是否最小化到托盘
- **激活热键**：设置开启/关闭输入法的热键

### 6. 系统托盘功能
- 右键点击托盘图标
- 快速激活/停用输入法
- 打开配置界面
- 退出程序

### 7. 停用输入法
- 再次按 `F8` 热键（或你自定义的热键）
- 点击"激活输入法"按钮
- 或通过系统托盘菜单选择"停用"

## 配置文件说明

配置文件保存在：`%APPDATA%\TekkenInputMethod\Profiles\`

- 每个配置是一个独立的JSON文件（`{配置ID}.json`）
- `settings.json` 保存当前激活的配置ID和系统设置
- 可以手动备份、复制配置文件

## 技术改进

### 按键拦截机制
- 使用低级键盘钩子拦截按键事件
- 成功映射后阻止原始按键传递
- 确保只输出转换后的字符

### 字符兼容性
- 使用标准Unicode字符，需支持Emoji字符集
- 在QQ、微信等应用中正常显示
- 斜方向符号采用通用编码

## 注意事项

1. **管理员权限**：某些功能可能需要管理员权限
2. **杀毒软件**：如果被杀毒软件拦截，请添加信任
3. **兼容性**：支持Windows 10/11系统
4. **日志文件**：日志保存在 `%APPDATA%\TekkenInputMethod\Logs` 目录

## 卸载方法

1. 关闭输入法程序
2. 删除配置目录 `%APPDATA%\TekkenInputMethod`
3. 如需删除开机自启，请在配置中取消勾选"开机自启"

## 技术支持

如有问题，请查看日志文件。

## 已知限制

- QQ中的斜方向符号（↖↗↙↘）在某些情况下可能被转义，这是QQ的富文本处理机制导致的，输入法已使用标准Unicode字符，但应用端的显示处理不在输入法控制范围内
